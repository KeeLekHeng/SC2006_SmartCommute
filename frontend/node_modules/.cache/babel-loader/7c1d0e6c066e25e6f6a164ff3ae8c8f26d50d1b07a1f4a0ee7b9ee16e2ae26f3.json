{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\SC2006\\\\smartcommute\\\\frontend\\\\src\\\\components\\\\GpsRequest.js\",\n  _s = $RefreshSig$();\nimport { useState, useContext } from 'react';\nimport { GpsContext } from '../context/GpsContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GpsRequest = ({\n  onAllow,\n  onDeny\n}) => {\n  _s();\n  const gpsContext = useContext(GpsContext); // Get the whole context object\n  const setGpsCoordinates = gpsContext ? gpsContext.setGpsCoordinates : null; // Guard\n\n  const [latitude, setLatitude] = useState('');\n  const [longitude, setLongitude] = useState('');\n  const requestGPS = () => {\n    //Restrictive browsers may not allow GPS connection\n    if (!navigator.geolocation) {\n      console.error(\"Geolocation is not supported by this browser.\");\n      if (typeof onDeny === 'function') onDeny();\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(position => {\n      const coords = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude\n      };\n      setLatitude(coords.latitude);\n      setLongitude(coords.longitude);\n      if (setGpsCoordinates) {\n        setGpsCoordinates(coords); // Update context if available for global use\n      }\n      if (typeof onAllow === 'function') onAllow(coords);\n    }, error => {\n      console.error(\"Error getting location: \", error);\n      if (typeof onDeny === 'function') onDeny();\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"bg-green-500 text-white py-2 px-6 rounded-lg font-semibold hover:bg-green-600 transition w-32\",\n      onClick: requestGPS // Trigger function when Allow GPS is clicked\n      ,\n      children: \"Allow\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"bg-gray-300 text-gray-700 py-2 px-6 rounded-lg font-semibold hover:bg-gray-400 transition w-32\",\n      onClick: onDeny // Trigger function when Don't Allow is clicked\n      ,\n      children: \"Don\\u2019t Allow\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n_s(GpsRequest, \"wtUEfGPEOU/VM9/jdxWbTenC74Q=\");\n_c = GpsRequest;\nexport default GpsRequest;\nvar _c;\n$RefreshReg$(_c, \"GpsRequest\");","map":{"version":3,"names":["useState","useContext","GpsContext","jsxDEV","_jsxDEV","GpsRequest","onAllow","onDeny","_s","gpsContext","setGpsCoordinates","latitude","setLatitude","longitude","setLongitude","requestGPS","navigator","geolocation","console","error","getCurrentPosition","position","coords","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/SC2006/smartcommute/frontend/src/components/GpsRequest.js"],"sourcesContent":["import { useState, useContext } from 'react';\r\nimport {GpsContext} from '../context/GpsContext';\r\n\r\nconst GpsRequest = ({ onAllow, onDeny }) => {\r\n    const gpsContext = useContext(GpsContext);  // Get the whole context object\r\n    const setGpsCoordinates = gpsContext ? gpsContext.setGpsCoordinates : null; // Guard\r\n\r\n    const [latitude, setLatitude] = useState('');\r\n    const [longitude, setLongitude] = useState('');\r\n\r\n    const requestGPS = () => {\r\n        //Restrictive browsers may not allow GPS connection\r\n        if (!navigator.geolocation) {\r\n            console.error(\"Geolocation is not supported by this browser.\");\r\n            if (typeof onDeny === 'function') onDeny();\r\n            return;\r\n        }\r\n\r\n        navigator.geolocation.getCurrentPosition(\r\n            (position) => {\r\n                const coords = {\r\n                    latitude: position.coords.latitude,\r\n                    longitude: position.coords.longitude\r\n                };\r\n                \r\n                setLatitude(coords.latitude);\r\n                setLongitude(coords.longitude);\r\n\r\n                if (setGpsCoordinates) {\r\n                    setGpsCoordinates(coords); // Update context if available for global use\r\n                }\r\n\r\n                if (typeof onAllow === 'function') onAllow(coords);\r\n            },\r\n            (error) => {\r\n                console.error(\"Error getting location: \", error);\r\n                if (typeof onDeny === 'function') onDeny();\r\n            }\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <button\r\n                className=\"bg-green-500 text-white py-2 px-6 rounded-lg font-semibold hover:bg-green-600 transition w-32\"\r\n                onClick={requestGPS} // Trigger function when Allow GPS is clicked\r\n            >\r\n                Allow \r\n            </button>\r\n            <button\r\n                className=\"bg-gray-300 text-gray-700 py-2 px-6 rounded-lg font-semibold hover:bg-gray-400 transition w-32\"\r\n                onClick={onDeny} // Trigger function when Don't Allow is clicked\r\n            >\r\n                Donâ€™t Allow\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GpsRequest;\r\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAC5C,SAAQC,UAAU,QAAO,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,UAAU,GAAGA,CAAC;EAAEC,OAAO;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EACxC,MAAMC,UAAU,GAAGR,UAAU,CAACC,UAAU,CAAC,CAAC,CAAE;EAC5C,MAAMQ,iBAAiB,GAAGD,UAAU,GAAGA,UAAU,CAACC,iBAAiB,GAAG,IAAI,CAAC,CAAC;;EAE5E,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACa,SAAS,EAAEC,YAAY,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAE9C,MAAMe,UAAU,GAAGA,CAAA,KAAM;IACrB;IACA,IAAI,CAACC,SAAS,CAACC,WAAW,EAAE;MACxBC,OAAO,CAACC,KAAK,CAAC,+CAA+C,CAAC;MAC9D,IAAI,OAAOZ,MAAM,KAAK,UAAU,EAAEA,MAAM,CAAC,CAAC;MAC1C;IACJ;IAEAS,SAAS,CAACC,WAAW,CAACG,kBAAkB,CACnCC,QAAQ,IAAK;MACV,MAAMC,MAAM,GAAG;QACXX,QAAQ,EAAEU,QAAQ,CAACC,MAAM,CAACX,QAAQ;QAClCE,SAAS,EAAEQ,QAAQ,CAACC,MAAM,CAACT;MAC/B,CAAC;MAEDD,WAAW,CAACU,MAAM,CAACX,QAAQ,CAAC;MAC5BG,YAAY,CAACQ,MAAM,CAACT,SAAS,CAAC;MAE9B,IAAIH,iBAAiB,EAAE;QACnBA,iBAAiB,CAACY,MAAM,CAAC,CAAC,CAAC;MAC/B;MAEA,IAAI,OAAOhB,OAAO,KAAK,UAAU,EAAEA,OAAO,CAACgB,MAAM,CAAC;IACtD,CAAC,EACAH,KAAK,IAAK;MACPD,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChD,IAAI,OAAOZ,MAAM,KAAK,UAAU,EAAEA,MAAM,CAAC,CAAC;IAC9C,CACJ,CAAC;EACL,CAAC;EAED,oBACIH,OAAA;IAAAmB,QAAA,gBACInB,OAAA;MACIoB,SAAS,EAAC,+FAA+F;MACzGC,OAAO,EAAEV,UAAW,CAAC;MAAA;MAAAQ,QAAA,EACxB;IAED;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACTzB,OAAA;MACIoB,SAAS,EAAC,gGAAgG;MAC1GC,OAAO,EAAElB,MAAO,CAAC;MAAA;MAAAgB,QAAA,EACpB;IAED;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAEd,CAAC;AAACrB,EAAA,CAtDIH,UAAU;AAAAyB,EAAA,GAAVzB,UAAU;AAwDhB,eAAeA,UAAU;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}