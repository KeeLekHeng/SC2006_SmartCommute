{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\SC2006\\\\smartcommute\\\\frontend\\\\src\\\\components\\\\GpsRequest.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useContext } from 'react';\nimport GpsContext from '../context/GpsContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GpsRequest = ({\n  onAllow,\n  onDeny\n}) => {\n  _s();\n  const {\n    setGpsCoordinates\n  } = useContext(GpsContext);\n  const [latitude, setLatitude] = useState('');\n  const [longitude, setLongitude] = useState('');\n  const requestGPS = () => {\n    //Restrictive browsers may not allow GPS connection\n    if (!navigator.geolocation) {\n      console.error(\"Geolocation is not supported by this browser.\");\n      if (typeof onDeny === 'function') onDeny();\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(position => {\n      const coords = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude\n      };\n      setLatitude(coords.latitude);\n      setLongitude(coords.longitude);\n\n      // Update context state for global use\n      setGpsCoordinates(coords);\n      if (typeof onAllow === 'function') onAllow(coords);\n    }, error => {\n      console.error(\"Error getting location: \", error);\n      if (typeof onDeny === 'function') onDeny();\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"bg-green-500 text-white py-2 px-6 rounded-lg font-semibold hover:bg-green-600 transition w-32\",\n      onClick: requestGPS // Trigger function when Allow GPS is clicked\n      ,\n      children: \"Allow GPS\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"bg-gray-300 text-gray-700 py-2 px-6 rounded-lg font-semibold hover:bg-gray-400 transition w-32\",\n      onClick: onDeny // Trigger function when Don't Allow is clicked\n      ,\n      children: \"Don\\u2019t Allow\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(GpsRequest, \"W9AkyoCCD/l+NWy/uCYbHyNF/gk=\");\n_c = GpsRequest;\nexport default GpsRequest;\nvar _c;\n$RefreshReg$(_c, \"GpsRequest\");","map":{"version":3,"names":["useState","useEffect","useContext","GpsContext","jsxDEV","_jsxDEV","Fragment","_Fragment","GpsRequest","onAllow","onDeny","_s","setGpsCoordinates","latitude","setLatitude","longitude","setLongitude","requestGPS","navigator","geolocation","console","error","getCurrentPosition","position","coords","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/SC2006/smartcommute/frontend/src/components/GpsRequest.js"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\nimport GpsContext from '../context/GpsContext';\r\n\r\nconst GpsRequest = ({ onAllow, onDeny }) => {\r\n    const { setGpsCoordinates } = useContext(GpsContext);\r\n    const [latitude, setLatitude] = useState('');\r\n    const [longitude, setLongitude] = useState('');\r\n\r\n    const requestGPS = () => {\r\n\r\n        //Restrictive browsers may not allow GPS connection\r\n        if (!navigator.geolocation) {\r\n            console.error(\"Geolocation is not supported by this browser.\");\r\n            if (typeof onDeny === 'function') onDeny();\r\n            return;\r\n        }\r\n\r\n        navigator.geolocation.getCurrentPosition(\r\n            (position) => {\r\n                const coords = {\r\n                    latitude: position.coords.latitude,\r\n                    longitude: position.coords.longitude\r\n                };\r\n                \r\n                setLatitude(coords.latitude);\r\n                setLongitude(coords.longitude);\r\n\r\n                // Update context state for global use\r\n                setGpsCoordinates(coords);\r\n\r\n                if (typeof onAllow === 'function') onAllow(coords);\r\n            },\r\n            (error) => {\r\n                console.error(\"Error getting location: \", error);\r\n                if (typeof onDeny === 'function') onDeny();\r\n            }\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <button\r\n                className=\"bg-green-500 text-white py-2 px-6 rounded-lg font-semibold hover:bg-green-600 transition w-32\"\r\n                onClick={requestGPS} // Trigger function when Allow GPS is clicked\r\n            >\r\n                Allow GPS\r\n            </button>\r\n            <button\r\n                className=\"bg-gray-300 text-gray-700 py-2 px-6 rounded-lg font-semibold hover:bg-gray-400 transition w-32\"\r\n                onClick={onDeny} // Trigger function when Don't Allow is clicked\r\n            >\r\n                Donâ€™t Allow\r\n            </button>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default GpsRequest;\r\n\r\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AACvD,OAAOC,UAAU,MAAM,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE/C,MAAMC,UAAU,GAAGA,CAAC;EAAEC,OAAO;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EACxC,MAAM;IAAEC;EAAkB,CAAC,GAAGV,UAAU,CAACC,UAAU,CAAC;EACpD,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACe,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAE9C,MAAMiB,UAAU,GAAGA,CAAA,KAAM;IAErB;IACA,IAAI,CAACC,SAAS,CAACC,WAAW,EAAE;MACxBC,OAAO,CAACC,KAAK,CAAC,+CAA+C,CAAC;MAC9D,IAAI,OAAOX,MAAM,KAAK,UAAU,EAAEA,MAAM,CAAC,CAAC;MAC1C;IACJ;IAEAQ,SAAS,CAACC,WAAW,CAACG,kBAAkB,CACnCC,QAAQ,IAAK;MACV,MAAMC,MAAM,GAAG;QACXX,QAAQ,EAAEU,QAAQ,CAACC,MAAM,CAACX,QAAQ;QAClCE,SAAS,EAAEQ,QAAQ,CAACC,MAAM,CAACT;MAC/B,CAAC;MAEDD,WAAW,CAACU,MAAM,CAACX,QAAQ,CAAC;MAC5BG,YAAY,CAACQ,MAAM,CAACT,SAAS,CAAC;;MAE9B;MACAH,iBAAiB,CAACY,MAAM,CAAC;MAEzB,IAAI,OAAOf,OAAO,KAAK,UAAU,EAAEA,OAAO,CAACe,MAAM,CAAC;IACtD,CAAC,EACAH,KAAK,IAAK;MACPD,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChD,IAAI,OAAOX,MAAM,KAAK,UAAU,EAAEA,MAAM,CAAC,CAAC;IAC9C,CACJ,CAAC;EACL,CAAC;EAED,oBACIL,OAAA,CAAAE,SAAA;IAAAkB,QAAA,gBACIpB,OAAA;MACIqB,SAAS,EAAC,+FAA+F;MACzGC,OAAO,EAAEV,UAAW,CAAC;MAAA;MAAAQ,QAAA,EACxB;IAED;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACT1B,OAAA;MACIqB,SAAS,EAAC,gGAAgG;MAC1GC,OAAO,EAAEjB,MAAO,CAAC;MAAA;MAAAe,QAAA,EACpB;IAED;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA,eACX,CAAC;AAEX,CAAC;AAACpB,EAAA,CApDIH,UAAU;AAAAwB,EAAA,GAAVxB,UAAU;AAsDhB,eAAeA,UAAU;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}